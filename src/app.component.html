<div class="flex h-screen bg-gray-100 font-sans text-gray-800">
  <!-- Sidebar -->
  <aside class="w-64 bg-gray-800 text-white flex flex-col p-4 shadow-lg z-10">
    <div class="mb-8 flex items-center justify-center p-4">
      <img ngSrc="https://picsum.photos/40/40" width="40" height="40" alt="Apaleo Logo" class="mr-2 rounded-full">
      <span class="text-2xl font-bold text-white">apaleo</span>
    </div>

    <!-- Context Selector -->
    <div class="mb-4">
      <app-context-selector></app-context-selector>
    </div>

    <nav class="flex-grow">
      <ul>
        <li class="mb-2">
          <a class="flex items-center p-3 rounded-md transition-colors duration-200 hover:bg-gray-700"
             routerLink="/dashboard"
             routerLinkActive="bg-blue-600">
            <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10v11h18V10M3 10l9-7 9 7M3 10h18"></path></svg>
            Dashboard
          </a>
        </li>
        <li class="mb-2">
          <a class="flex items-center p-3 rounded-md transition-colors duration-200 hover:bg-gray-700"
             routerLink="/reservations"
             routerLinkActive="bg-blue-600">
            <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
            Reservations
          </a>
        </li>

        @if (propertyService.properties().length > 0) {
          <li class="mb-2">
            <a class="flex items-center p-3 rounded-md transition-colors duration-200 hover:bg-gray-700"
               routerLink="/room-rack"
               routerLinkActive="bg-blue-600">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"></path></svg>
              Room Rack
            </a>
          </li>
          <li class="mb-2">
            <a class="flex items-center p-3 rounded-md transition-colors duration-200 hover:bg-gray-700"
               routerLink="/housekeeping"
               routerLinkActive="bg-blue-600">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v3a2 2 0 01-2 2h-4m-6 0a2 2 0 00-2 2v3a2 2 0 002 2h4.586m-4.586-4H10m6 0h.01"></path></svg>
              Housekeeping
            </a>
          </li>
          <li class="mb-2">
            <a class="flex items-center p-3 rounded-md transition-colors duration-200 hover:bg-gray-700"
               routerLink="/inventory"
               routerLinkActive="bg-blue-600">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"></path></svg>
              Inventory
            </a>
          </li>
          <li class="mb-2">
            <a class="flex items-center p-3 rounded-md transition-colors duration-200 hover:bg-gray-700"
               routerLink="/rates"
               routerLinkActive="bg-blue-600">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 14l6-6m-6 6h.01M6 21v-1a4 4 0 014-4h4a4 4 0 014 4v1m-4-1a4 4 0 00-4-4H9m7-6a4 4 0 01-4-4V3a4 4 0 014-4h4a4 4 0 014 4v2a4 4 0 01-4 4z"></path></svg>
              Rates
            </a>
          </li>
          <li class="mb-2">
            <a class="flex items-center p-3 rounded-md transition-colors duration-200 hover:bg-gray-700"
               routerLink="/companies"
               routerLinkActive="bg-blue-600">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h2a2 2 0 002-2V4a2 2 0 00-2-2H5a2 2 0 00-2 2v14a2 2 0 002 2h2m0 0a2 2 0 002 2h6a2 2 0 002-2m-7 0v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6m3-3h.01"></path></svg>
              Companies
            </a>
          </li>
          <li class="mb-2">
            <a class="flex items-center p-3 rounded-md transition-colors duration-200 hover:bg-gray-700"
               routerLink="/finance"
               routerLinkActive="bg-blue-600">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 8h6m-5 0A2 2 0 017 12h2a2 2 0 002-2V6a2 2 0 00-2-2H9a2 2 0 00-2 2v2zm-2 2h8m-8 0v2a2 2 0 002 2h2a2 2 0 002-2v-2m-5-6h.01M17 12h.01"></path></svg>
              Finance
            </a>
          </li>
          <li class="mb-2">
            <a class="flex items-center p-3 rounded-md transition-colors duration-200 hover:bg-gray-700"
               routerLink="/reports"
               routerLinkActive="bg-blue-600">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6a2 2 0 00-2-2H5a2 2 0 00-2 2v13m11 0V6a2 2 0 00-2-2h-2a2 2 0 00-2 2v13m7-10h2a2 2 0 012 2v7a2 2 0 01-2 2h-2a2 2 0 01-2-2V9a2 2 0 012-2z"></path></svg>
              Reports
            </a>
          </li>
          <li class="mb-2">
            <a class="flex items-center p-3 rounded-md transition-colors duration-200 hover:bg-gray-700"
               routerLink="/audit-logs"
               routerLinkActive="bg-blue-600">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 2H5a2 2 0 01-2-2V7a2 2 0 012-2h14a2 2 0 012 2v11a2 2 0 01-2 2z"></path></svg>
              Audit / Logs
            </a>
          </li>
        }

        <li class="mb-2">
          <a class="flex items-center p-3 rounded-md transition-colors duration-200 hover:bg-gray-700"
             routerLink="/properties"
             routerLinkActive="bg-blue-600">
            <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z"></path></svg>
            Properties
          </a>
        </li>
      </ul>

      <!-- Apps Section (Collapsible) -->
      @if (propertyService.properties().length > 0) {
        <div class="mt-4 border-t border-gray-700 pt-4">
          <button (click)="toggleApps()"
                  class="flex items-center justify-between w-full p-3 rounded-md transition-colors duration-200 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 focus:ring-offset-gray-800">
            <div class="flex items-center">
              <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"></path></svg>
              Apps
            </div>
            <svg class="w-4 h-4 transform transition-transform duration-200"
                 [class.rotate-180]="isAppsExpanded()" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
          </button>
          @if (isAppsExpanded()) {
            <ul class="ml-4 mt-2 space-y-2">
              <li>
                <a class="flex items-center p-3 rounded-md transition-colors duration-200 hover:bg-gray-700 text-sm"
                   routerLink="/google-integration"
                   routerLinkActive="bg-blue-600">
                  Google Integration
                </a>
              </li>
              <li>
                <a class="flex items-center p-3 rounded-md transition-colors duration-200 hover:bg-gray-700 text-sm"
                   routerLink="/youtube"
                   routerLinkActive="bg-blue-600">
                  YouTube
                </a>
              </li>
            </ul>
          }
        </div>
      }
    </nav>
  </aside>

  <!-- Main Content Area -->
  <main class="flex-1 overflow-x-hidden overflow-y-auto bg-gray-100">
    <!-- Header -->
    <header class="flex items-center justify-between p-4 bg-white border-b border-gray-200 shadow-sm z-0">
      <div class="flex items-center">
        <span class="ml-4 text-sm text-gray-500">Apaleo Hotels</span>
      </div>
      <div class="flex items-center space-x-4">
        <span class="text-sm text-gray-600">18.11.25, 04:48</span>
      </div>
    </header>

    <!-- Page Content -->
    <div class="p-8">
      <router-outlet></router-outlet>
    </div>
  </main>
  <app-chat></app-chat>
</div>